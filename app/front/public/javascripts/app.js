!function(){"use strict";var t="undefined"!=typeof window?window:global;if("function"!=typeof t.require){var e={},o={},n=function(t,e){return{}.hasOwnProperty.call(t,e)},r=function(t,e){var o,n,r=[];o=/^\.\.?(\/|$)/.test(e)?[t,e].join("/").split("/"):e.split("/");for(var i=0,s=o.length;s>i;i++)n=o[i],".."===n?r.pop():"."!==n&&""!==n&&r.push(n);return r.join("/")},i=function(t){return t.split("/").slice(0,-1).join("/")},s=function(e){return function(o){var n=i(e),s=r(n,o);return t.require(s,e)}},a=function(t,e){var n={id:t,exports:{}};return o[t]=n,e(n.exports,s(t),n),n.exports},p=function(t,i){var s=r(t,".");if(null==i&&(i="/"),n(o,s))return o[s].exports;if(n(e,s))return a(s,e[s]);var p=r(s,"./index");if(n(o,p))return o[p].exports;if(n(e,p))return a(p,e[p]);throw new Error('Cannot find module "'+t+'" from "'+i+'"')},c=function(t,o){if("object"==typeof t)for(var r in t)n(t,r)&&(e[r]=t[r]);else e[t]=o},u=function(){var t=[];for(var o in e)n(e,o)&&t.push(o);return t};t.require=p,t.require.define=c,t.require.register=c,t.require.list=u,t.require.brunch=!0}}(),require.register("common/application",function(t,e,o){var n,r,i={}.hasOwnProperty,s=function(t,e){function o(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};o.exports=n=function(t){function e(){return r=e.__super__.constructor.apply(this,arguments)}return s(e,t),e}(Chaplin.Application)}),require.register("common/config",function(t,e,o){o.exports={pushState:!1,controllerSuffix:"",apiRoot:"http://115.28.11.182:9000"}}),require.register("common/controllers/base/controller",function(t,e,o){var n,r,i={}.hasOwnProperty,s=function(t,e){function o(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};o.exports=n=function(t){function e(){return r=e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.beforeAction=function(){return localStorage.access_token?void 0:location.href="/!/login"},e}(Chaplin.Controller)}),require.register("common/mediator",function(){}),require.register("common/mock",function(){}),require.register("common/models/base/collection",function(t,e,o){var n,r,i,s,a=function(t,e){return function(){return t.apply(e,arguments)}},p={}.hasOwnProperty,c=function(t,e){function o(){this.constructor=t}for(var n in e)p.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};r=e("./model"),i=e("common/config"),o.exports=n=function(t){function e(){return this.url=a(this.url,this),this.initialize=a(this.initialize,this),s=e.__super__.constructor.apply(this,arguments)}return c(e,t),e.prototype.apiRoot=i.apiRoot,e.prototype.model=r,e.prototype.initialize=function(t){return null==t&&(t={}),e.__super__.initialize.apply(this,arguments),this.options=t},e.prototype.url=function(){return""+this.apiRoot+this.urlPath()+"?"+this.querystring(this.queryParams())},e.prototype.querystring=function(t){return t.access_token=localStorage.getItem("access_token"),_.map(t,function(t,e){return""+e+"="+encodeURIComponent(t)}).join("&")},e.prototype.queryParams=function(){return{}},e}(Chaplin.Collection)}),require.register("common/models/base/model",function(t,e,o){var n,r,i,s=function(t,e){return function(){return t.apply(e,arguments)}},a={}.hasOwnProperty,p=function(t,e){function o(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};r=e("common/config"),o.exports=n=function(t){function e(){return this.queryParams=s(this.queryParams,this),this.initialize=s(this.initialize,this),i=e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.apiRoot=r.apiRoot,e.prototype.initialize=function(t){return null==t&&(t={}),e.__super__.initialize.apply(this,arguments),this.options=t},e.prototype.urlRoot=function(){return this.id||!this.collection?""+this.apiRoot+this.urlPath():""+this.apiRoot+this.collection.urlPath()},e.prototype.url=function(){return""+e.__super__.url.apply(this,arguments)+"?"+this.querystring(this.queryParams())},e.prototype.querystring=function(t){return t.access_token=localStorage.getItem("access_token"),_.map(t,function(t,e){return""+e+"="+encodeURIComponent(t)}).join("&")},e.prototype.queryParams=function(){return this.options},e}(Chaplin.Model)}),require.register("common/models/domain-collection",function(t,e,o){var n,r,i,s,a={}.hasOwnProperty,p=function(t,e){function o(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};n=e("./base/collection"),i=e("./domain-item"),o.exports=r=function(t){function e(){return s=e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.urlPath=function(){return"/domains"},e.prototype.model=i,e}(n)}),require.register("common/models/domain-item",function(t,e,o){var n,r,i,s={}.hasOwnProperty,a=function(t,e){function o(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};r=e("common/models/base/model"),o.exports=n=function(t){function e(){return i=e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.urlPath=function(){return"/domains"},e}(r)}),require.register("common/models/download-domain",function(t,e,o){var n,r,i,s=function(t,e){return function(){return t.apply(e,arguments)}},a={}.hasOwnProperty,p=function(t,e){function o(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};r=e("common/models/base/model"),o.exports=n=function(t){function e(){return this.urlPath=s(this.urlPath,this),i=e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.urlPath=function(){return"/download/domains"},e}(r)}),require.register("common/models/login",function(t,e,o){var n,r,i,s={}.hasOwnProperty,a=function(t,e){function o(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};r=e("common/models/base/model"),o.exports=n=function(t){function e(){return i=e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.urlPath=function(){return"/authenticate"},e}(r)}),require.register("common/models/record-collection",function(t,e,o){var n,r,i,s,a=function(t,e){return function(){return t.apply(e,arguments)}},p={}.hasOwnProperty,c=function(t,e){function o(){this.constructor=t}for(var n in e)p.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};n=e("./base/collection"),r=e("./record-item"),o.exports=i=function(t){function e(){return this.urlPath=a(this.urlPath,this),s=e.__super__.constructor.apply(this,arguments)}return c(e,t),e.prototype.urlPath=function(){return"/domains/"+this.options.domain_id+"/records"},e.prototype.model=r,e}(n)}),require.register("common/models/record-item",function(t,e,o){var n,r,i,s=function(t,e){return function(){return t.apply(e,arguments)}},a={}.hasOwnProperty,p=function(t,e){function o(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};n=e("common/models/base/model"),o.exports=r=function(t){function e(){return this.urlPath=s(this.urlPath,this),i=e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.urlPath=function(){return"/domains/"+this.options.domain_id+"/records"},e}(n)}),require.register("common/views/base/collection-view",function(t,e,o){var n,r,i,s={}.hasOwnProperty,a=function(t,e){function o(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};r=e("./view"),o.exports=n=function(t){function e(){return i=e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.listen={addedToDOM:"addedToDOM"},e.prototype.addedToDOM=function(){},e.prototype.getTemplateFunction=r.prototype.getTemplateFunction,e}(Chaplin.CollectionView)}),require.register("common/views/base/view",function(t,e,o){var n,r,i={}.hasOwnProperty,s=function(t,e){function o(){this.constructor=t}for(var n in e)i.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};o.exports=n=function(t){function e(){return r=e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.listen={addedToDOM:"addedToDOM"},e.prototype.addedToDOM=function(){},e.prototype.getTemplateFunction=function(){return this.template},e}(Chaplin.View)}),require.register("dnspod/controllers/auth",function(t,e,o){var n,r,i,s,a,p,c,u,l={}.hasOwnProperty,d=function(t,e){function o(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};a=e("common/models/login"),r=e("common/controllers/base/controller"),i=e("dnspod/views/common/header-view"),s=e("dnspod/views/home/home-view"),p=e("dnspod/views/auth/login-view"),c=Chaplin.mediator.subscribe,o.exports=n=function(t){function e(){return u=e.__super__.constructor.apply(this,arguments)}return d(e,t),e.prototype.beforeAction=function(){return this.reuse("home",s)},e.prototype.login=function(){return this.loginView=new p({region:"container"}),c("authenticate",function(t){var e;return e=new a,e.save(t).success(function(e){var o;return localStorage.setItem("user",e),o=t.email+"&&"+t.password,localStorage.setItem("access_token",$.base64.btoa(o)),location.href="/"}).error(function(){var t;return t=new Messenger({extraClasses:"messenger-fixed messenger-on-left messenger-on-top messenger-theme-flat"}),t.post({type:"error",message:"用户名或密码错误",hideAfter:3})})})},e}(r)}),require.register("dnspod/controllers/domain",function(t,e,o){var n,r,i,s,a,p,c,u,l={}.hasOwnProperty,d=function(t,e){function o(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};p=e("common/models/record-collection"),n=e("common/controllers/base/controller"),i=e("dnspod/views/common/header-view"),s=e("dnspod/views/home/home-view"),a=e("dnspod/views/home/index-view"),c=e("dnspod/views/record/record-collection-view"),o.exports=r=function(t){function e(){return u=e.__super__.constructor.apply(this,arguments)}return d(e,t),e.prototype.beforeAction=function(){return e.__super__.beforeAction.apply(this,arguments),this.reuse("home",s),this.reuse("index",a,{region:"container"}),this.reuse("header",i,{region:"header"})},e.prototype.records=function(t){var e;return e=t.domain_id,this.recordCollectionView=new c({collection:new p({domain_id:e}),region:"content"})},e}(n)}),require.register("dnspod/controllers/home",function(t,e,o){var n,r,i,s,a,p,c,u,l={}.hasOwnProperty,d=function(t,e){function o(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};r=e("common/models/domain-collection"),n=e("common/controllers/base/controller"),s=e("dnspod/views/common/header-view"),p=e("dnspod/views/home/home-view"),c=e("dnspod/views/home/index-view"),i=e("dnspod/views/domain/domain-collection-view"),o.exports=a=function(t){function e(){return u=e.__super__.constructor.apply(this,arguments)}return d(e,t),e.prototype.beforeAction=function(){return e.__super__.beforeAction.apply(this,arguments),this.reuse("home",p),this.reuse("index",c,{region:"container"}),this.reuse("header",s,{region:"header"})},e.prototype.index=function(t,e,o){var n;return n="all",o.query.type&&(n=o.query.type),this.domainCollectionView=new i({collection:new r({type:n}),region:"content"})},e}(n)}),require.register("dnspod/initialize",function(t,e){var o,n,r;o=e("common/application"),n=e("common/config"),r=e("./routes"),$(function(){return new o({routes:r,controllerSuffix:n.controllerSuffix,controllerPath:"dnspod/controllers/"})})}),require.register("dnspod/routes",function(t,e,o){o.exports=function(t){return t("","home#index"),t("!/domains","home#index"),t("!/login","auth#login"),t("!/domains/:domain_id/records","domain#records")}}),require.register("dnspod/views/auth/login-view",function(t,e,o){var n,r,i,s,a=function(t,e){return function(){return t.apply(e,arguments)}},p={}.hasOwnProperty,c=function(t,e){function o(){this.constructor=t}for(var n in e)p.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};r=e("common/views/base/view"),i=Chaplin.mediator.publish,o.exports=n=function(t){function o(){return this.authenticate=a(this.authenticate,this),s=o.__super__.constructor.apply(this,arguments)}return c(o,t),o.prototype.autoRender=!0,o.prototype.template=e("./templates/login"),o.prototype.events={submit:"authenticate"},o.prototype.authenticate=function(){var t;return t=this.$("form").serializeObject(),i("authenticate",t),!1},o}(r)}),require.register("dnspod/views/auth/templates/login",function(t,e,o){var n=Handlebars.template(function(t,e,o,n,r){return this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,t.helpers),r=r||{},"<div id='loginModal' class='modal show' role='dialog' aria-hidden='true'>\n  <div class='modal-dialog'>\n    <div class='modal-content'>\n      <div class='modal-header'>\n          <h1 class='text-center'>登录</h1>\n      </div>\n      <div class='modal-body'>\n        <form class='form col-md-12 center-block'>\n          <div class='form-group'>\n            <input type='text' name='email'\n                   class='form-control input-lg' placeholder='邮箱'>\n          </div>\n          <div class='form-group'>\n            <input type='password' name='password'\n                   class='form-control input-lg' placeholder='密码'>\n          </div>\n          <div class='form-group'>\n            <button class='btn btn-primary btn-lg btn-block'>登录</button>\n            <span class='pull-right'>\n              <a href='https://www.dnspod.cn/SignUp' target='_blank'>注册</a>\n            </span>\n            <span> 还没有DNSPod的帐号?</span>\n          </div>\n        </form>\n      </div>\n      <div class='modal-footer'> </div>\n    </div>\n  </div>\n</div>\n"});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof o&&o&&o.exports&&(o.exports=n)}),require.register("dnspod/views/common/header-view",function(t,e,o){var n,r,i,s={}.hasOwnProperty,a=function(t,e){function o(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};r=e("common/views/base/view"),o.exports=n=function(t){function o(){return i=o.__super__.constructor.apply(this,arguments)}return a(o,t),o.prototype.autoRender=!0,o.prototype.container="body",o.prototype.template=e("./templates/header"),o.prototype.initialize=function(){return o.__super__.initialize.apply(this,arguments)},o}(r)}),require.register("dnspod/views/common/templates/header",function(t,e,o){var n=Handlebars.template(function(t,e,o,n,r){return this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,t.helpers),r=r||{},"<div class='navbar navbar-inverse container'>\n  <div class='navbar-header'>\n    <a class='navbar-brand' href=\"/\">DNSPod HomeWork</a>\n  </div>\n</div>\n"});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof o&&o&&o.exports&&(o.exports=n)}),require.register("dnspod/views/domain/domain-collection-view",function(t,e,o){var n,r,i,s,a,p,c=function(t,e){return function(){return t.apply(e,arguments)}},u={}.hasOwnProperty,l=function(t,e){function o(){this.constructor=t}for(var n in e)u.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};n=e("common/views/base/collection-view"),a=e("./domain-item-view"),i=e("common/models/domain-item"),s=e("common/models/download-domain"),o.exports=r=function(t){function o(){return this.export_domain=c(this.export_domain,this),this.delete_domain=c(this.delete_domain,this),this.add_domain=c(this.add_domain,this),this.add_dom=c(this.add_dom,this),this.initialize=c(this.initialize,this),p=o.__super__.constructor.apply(this,arguments)}return l(o,t),o.prototype.autoRender=!0,o.prototype.template=e("./templates/domain-collection"),o.prototype.itemView=a,o.prototype.listSelector=".list",o.prototype.events={"click .add":"add_dom","submit form":"add_domain","click .cancel":"cancel_add","click .delete":"delete_domain","click .export":"export_domain"},o.prototype.initialize=function(){return o.__super__.initialize.apply(this,arguments),this.collection.fetch({data:this.collection.options})},o.prototype.add_dom=function(){return $("<div>").addClass("row").addClass("entry").html("<form >\n  <div class=\"col-md-3\">\n    <input class='form-control' name='domain' placeholder='请输入您的域名'/>\n  </div>\n  <button class='btn btn-primary'>确定</button>\n  <button class='btn cancel'>取消</button>\n</form>").prependTo(this.$(".add-form-list"))},o.prototype.add_domain=function(t){var e,o,n,r=this;return e=$(t.currentTarget),o=e.serializeObject(),n=new i(o),n.save().success(function(){return n.set("name",o.domain),r.collection.unshift(n),e.parent().remove()}).error(function(t){var e;return e=new Messenger,e.post({type:"error",message:t.responseJSON.status.message,hideAfter:3})}),!1},o.prototype.cancel_add=function(t){var e;return e=$(t.currentTarget),e.parent().parent().remove(),!1},o.prototype.delete_domain=function(t){var e,o,n=this;return e=$(t.currentTarget),o=Messenger().post({message:"确定删除?",actions:{"delete":{label:"删除",action:function(){var t;return t=n.collection.get(e.attr("data-id")),t.destroy(),o.hide()}},cancel:{label:"亲我后悔了",action:function(){return o.hide()}}}})},o.prototype.export_domain=function(){var t,e;return t=new s(this.collection.options),e=t.url(),$.fileDownload(e)},o}(n)}),require.register("dnspod/views/domain/domain-item-view",function(t,e,o){var n,r,i,s=function(t,e){return function(){return t.apply(e,arguments)}},a={}.hasOwnProperty,p=function(t,e){function o(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};r=e("common/views/base/view"),o.exports=n=function(t){function o(){return this.getTemplateData=s(this.getTemplateData,this),this.update_domain=s(this.update_domain,this),i=o.__super__.constructor.apply(this,arguments)}return p(o,t),o.prototype.autoRender=!0,o.prototype.noWrap=!0,o.prototype.template=e("./templates/domain-item"),o.prototype.events={"click .edit":"update_domain"},o.prototype.update_domain=function(t){var e,o,n=this;return e=$(t.currentTarget),o=this.model,o.save({status:e.attr("data-next-status")}).success(function(){var t;return t=n.getTemplateData(),n.$("button.edit").attr("data-next-status",t.next_status).html(t.button_text)}).error(function(){return console.log("DomainItemView error")})},o.prototype.getTemplateData=function(){var t;return t=_.clone(this.model.attributes),t.domain_enabled="enable"===t.status,t.next_status="enable"===t.status?"disable":"enable",t.button_text="enable"===t.status?"暂停":"启用",t},o}(r)}),require.register("dnspod/views/domain/templates/domain-collection",function(t,e,o){var n=Handlebars.template(function(t,e,o,n,r){return this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,t.helpers),r=r||{},'<div class="btn-toolbar">\n  <div class="btn-group">\n    <button class="btn btn-success add">添加域名</button>\n  </div>\n  <div class="btn-group">\n    <button class="btn btn-info export">导出域名</button>\n  </div>\n</div>\n<div class="add-form-list"></div>\n<div class="list"></div>\n\n'});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof o&&o&&o.exports&&(o.exports=n)}),require.register("dnspod/views/domain/templates/domain-item",function(t,e,o){var n=Handlebars.template(function(t,e,o,n,r){this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,t.helpers),r=r||{};var i,s,a="",p="function",c=this.escapeExpression;return a+='<div class="row entry">\n  <span><a href=\'/!/domains/',(s=o.id)?i=s.call(e,{hash:{},data:r}):(s=e&&e.id,i=typeof s===p?s.call(e,{hash:{},data:r}):s),a+=c(i)+"/records'>",(s=o.name)?i=s.call(e,{hash:{},data:r}):(s=e&&e.name,i=typeof s===p?s.call(e,{hash:{},data:r}):s),a+=c(i)+"</a></span>\n  <span><button class='edit btn btn-warning' data-id=",(s=o.id)?i=s.call(e,{hash:{},data:r}):(s=e&&e.id,i=typeof s===p?s.call(e,{hash:{},data:r}):s),a+=c(i)+" data-next-status=",(s=o.next_status)?i=s.call(e,{hash:{},data:r}):(s=e&&e.next_status,i=typeof s===p?s.call(e,{hash:{},data:r}):s),a+=c(i)+">",(s=o.button_text)?i=s.call(e,{hash:{},data:r}):(s=e&&e.button_text,i=typeof s===p?s.call(e,{hash:{},data:r}):s),a+=c(i)+"</button></span>\n  <span><button class='delete btn btn-danger' data-id=",(s=o.id)?i=s.call(e,{hash:{},data:r}):(s=e&&e.id,i=typeof s===p?s.call(e,{hash:{},data:r}):s),a+=c(i)+">删除</button></span>\n</div>\n"});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof o&&o&&o.exports&&(o.exports=n)}),require.register("dnspod/views/home/home-view",function(t,e,o){var n,r,i,s={}.hasOwnProperty,a=function(t,e){function o(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};r=e("common/views/base/view"),o.exports=n=function(t){function o(){return i=o.__super__.constructor.apply(this,arguments)}return a(o,t),o.prototype.autoRender=!0,o.prototype.container="body",o.prototype.className="container",o.prototype.template=e("./templates/home"),o.prototype.regions={header:"header",container:"#container",footer:"footer"},o}(r)}),require.register("dnspod/views/home/index-view",function(t,e,o){var n,r,i,s={}.hasOwnProperty,a=function(t,e){function o(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};r=e("common/views/base/view"),o.exports=n=function(t){function o(){return i=o.__super__.constructor.apply(this,arguments)}return a(o,t),o.prototype.autoRender=!0,o.prototype.noWrap=!0,o.prototype.className="row",o.prototype.template=e("./templates/index"),o.prototype.regions={content:"#content"},o}(r)}),require.register("dnspod/views/home/templates/home",function(t,e,o){var n=Handlebars.template(function(t,e,o,n,r){return this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,t.helpers),r=r||{},'<header></header>\n<div id="container"></div>\n<footer></footer>\n'});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof o&&o&&o.exports&&(o.exports=n)}),require.register("dnspod/views/home/templates/index",function(t,e,o){var n=Handlebars.template(function(t,e,o,n,r){return this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,t.helpers),r=r||{},'<div class="row">\n  <aside class="col-md-3">\n    <nav >\n      <ul class="nav nav-pills nav-stacked">\n        <li><a href="/!/domains?type=all" >全部域名</a></li>\n        <li><a href="/!/domains?type=recent" >最近域名</a></li>\n        <li><a href="/!/domains?type=pause" >暂停域名</a></li>\n      </ul>\n    </nav>\n  </aside>\n  <section class="col-md-9" id="content"></section>\n</div>\n'});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof o&&o&&o.exports&&(o.exports=n)}),require.register("dnspod/views/record/record-collection-view",function(t,e,o){var n,r,i,s,a,p=function(t,e){return function(){return t.apply(e,arguments)}},c={}.hasOwnProperty,u=function(t,e){function o(){this.constructor=t}for(var n in e)c.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};n=e("common/views/base/collection-view"),r=e("./record-item-view"),s=e("common/models/record-item"),o.exports=i=function(t){function o(){return this.delete_record=p(this.delete_record,this),this.add_record=p(this.add_record,this),this.add_dom=p(this.add_dom,this),this.initialize=p(this.initialize,this),a=o.__super__.constructor.apply(this,arguments)}return u(o,t),o.prototype.autoRender=!0,o.prototype.template=e("./templates/record-collection"),o.prototype.itemView=r,o.prototype.listSelector=".list",o.prototype.events={"click .add":"add_dom","submit form":"add_record","click .cancel":"cancel_add","click .delete":"delete_record"},o.prototype.initialize=function(){return o.__super__.initialize.apply(this,arguments),this.collection.fetch()},o.prototype.add_dom=function(){return $('<form class="form">').addClass("entry").html("<div class='row'>\n  <div class='col-md-2'>\n    <select class=\"form-control\" name='sub_domain'>\n      <option value='www'>www</option>\n      <option value='@'>@</option>\n      <option value='*'>*</option>\n    </select>\n  </div>\n  <div class='col-md-2'>\n    <select class=\"form-control\" name='record_type'>\n      <option value='A'>A</option>\n      <option value='CNAME'>CNAME</option>\n      <option value='MX'>MX</option>\n      <option value='TXT'>TXT</option>\n      <option value='NS'>NS</option>\n      <option value='AAAA'>AAAA</option>\n      <option value='SRV'>SRV</option>\n      <option value='URL'>URL</option>\n    </select>\n  </div>\n  <div class='col-md-2'>\n    <select class=\"form-control\" name='line'>\n      <option value='默认'>默认</option>\n      <option value='电信'>电信</option>\n      <option value='联通'>联通</option>\n      <option value='教育网'>教育网</option>\n      <option value='百度'>百度</option>\n      <option value='搜索引擎'>搜索引擎</option>\n    </select>\n  </div>\n  <div class='col-md-2'>\n    <input class='form-control' name='value' placeholder='记录值'/>\n  </div>\n  <div class='col-md-1'>\n    <input class='form-control' name='mx' placeholder='MX优先级' value='1'/>\n  </div>\n  <div class='col-md-1'>\n    <input class='form-control' name='ttl' placeholder='TTL' value='600'/>\n  </div>\n  <div class='col-md-2'>\n    <button type='submit' class='btn btn-sm btn-primary'>确定</button>\n    <button class='btn btn-sm cancel'>取消</button>\n  </div>\n</div>").prependTo(this.$(".add-form-list"))},o.prototype.add_record=function(t){var e,o,n,r=this;return e=$(t.currentTarget),o=e.serializeObject(),o.domain_id=this.collection.options.domain_id,n=new s(o),n.save().success(function(){return r.collection.unshift(n),e.parent().remove()}).error(function(t){var e,o;return e=null!=t.responseJSON.status?t.responseJSON.status.message:t.responseJSON,o=new Messenger,o.post({type:"error",message:e,hideAfter:3})}),!1},o.prototype.cancel_add=function(t){var e;return e=t.currentTarget,$(e).parent().parent().remove(),!1},o.prototype.delete_record=function(t){var e,o,n=this;return e=$(t.currentTarget),o=Messenger().post({message:"确定删除?",actions:{"delete":{label:"删除",action:function(){var t;return t=n.collection.get(e.attr("data-id")),t.options.domain_id=n.collection.options.domain_id,t.destroy(),o.hide()}},cancel:{label:"亲我后悔了",action:function(){return o.hide()}}}})},o}(n)}),require.register("dnspod/views/record/record-item-view",function(t,e,o){var n,r,i,s=function(t,e){return function(){return t.apply(e,arguments)}},a={}.hasOwnProperty,p=function(t,e){function o(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};r=e("common/views/base/view"),o.exports=n=function(t){function o(){return this.getTemplateData=s(this.getTemplateData,this),i=o.__super__.constructor.apply(this,arguments)}return p(o,t),o.prototype.autoRender=!0,o.prototype.tagName="tr",o.prototype.className="",o.prototype.template=e("./templates/record-item"),o.prototype.getTemplateData=function(){var t;return t=_.clone(this.model.attributes),null!=t.name&&(t.sub_domain=t.name),null!=t.record_type&&(t.type=t.record_type),null!=t.record_line&&(t.line=t.record_line),t},o}(r)}),require.register("dnspod/views/record/templates/record-collection",function(t,e,o){var n=Handlebars.template(function(t,e,o,n,r){return this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,t.helpers),r=r||{},'<div class="btn-toolbar">\n  <div class="btn-group">\n    <button class="btn btn-success add">添加记录</button>\n  </div>\n</div>\n<div class="add-form-list"></div>\n<table class="table table-condensed">\n  <thead>\n    <tr>\n      <th>主机记录</th>\n      <th>记录类型</th>\n      <th>线路类型</th>\n      <th>记录值</th>\n      <th>MX优先级</th>\n      <th>TTL</th>\n      <th>操作</th>\n    </tr>\n  </thead>\n  <tbody class="list"></tbody>\n</table>\n\n'});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof o&&o&&o.exports&&(o.exports=n)}),require.register("dnspod/views/record/templates/record-item",function(t,e,o){var n=Handlebars.template(function(t,e,o,n,r){this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,t.helpers),r=r||{};var i,s,a="",p="function",c=this.escapeExpression;return a+="<td>",(s=o.sub_domain)?i=s.call(e,{hash:{},data:r}):(s=e&&e.sub_domain,i=typeof s===p?s.call(e,{hash:{},data:r}):s),a+=c(i)+"</td>\n<td>",(s=o.type)?i=s.call(e,{hash:{},data:r}):(s=e&&e.type,i=typeof s===p?s.call(e,{hash:{},data:r}):s),a+=c(i)+"</td>\n<td>",(s=o.line)?i=s.call(e,{hash:{},data:r}):(s=e&&e.line,i=typeof s===p?s.call(e,{hash:{},data:r}):s),a+=c(i)+"</td>\n<td>",(s=o.value)?i=s.call(e,{hash:{},data:r}):(s=e&&e.value,i=typeof s===p?s.call(e,{hash:{},data:r}):s),a+=c(i)+"</td>\n<td>",(s=o.mx)?i=s.call(e,{hash:{},data:r}):(s=e&&e.mx,i=typeof s===p?s.call(e,{hash:{},data:r}):s),a+=c(i)+"</td>\n<td>",(s=o.ttl)?i=s.call(e,{hash:{},data:r}):(s=e&&e.ttl,i=typeof s===p?s.call(e,{hash:{},data:r}):s),a+=c(i)+'</td>\n<td>\n  <span>\n    <button class="delete btn btn-sm btn-danger" data-id=\'',(s=o.id)?i=s.call(e,{hash:{},data:r}):(s=e&&e.id,i=typeof s===p?s.call(e,{hash:{},data:r}):s),a+=c(i)+"'>删除</button>\n  </span>\n</td>\n"});"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof o&&o&&o.exports&&(o.exports=n)}),require.register("lib/utils",function(){}),require.register("lib/view-helper",function(){});